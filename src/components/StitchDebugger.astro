---
---

<!-- Stitch Debugger ‚Äî peeks from bottom-right, click for easter egg -->
<div
  id="stitch-debugger"
  class="fixed bottom-0 right-0 -mr-2 z-40 cursor-pointer select-none"
  style="transform: translateY(30%); transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);"
  title="üêõ Click me!"
>
  <img
    src="/stitch-debugger.webp"
    alt="Stitch holding a bug"
    class="w-28 h-28 md:w-36 md:h-36 object-contain drop-shadow-lg pointer-events-none"
    draggable="false"
  />
</div>

<!-- Pixel-eat effect container -->
<div id="pixel-eaten" class="fixed pointer-events-none z-50" style="display: none;">
  <div class="w-3 h-3 bg-accent-green rounded-sm"></div>
</div>

<script is:inline>
(function() {
  var stitch = document.getElementById('stitch-debugger');
  var pixel = document.getElementById('pixel-eaten');
  if (!stitch) return;

  // Smooth hover ‚Äî Stitch peeks up fully
  stitch.addEventListener('mouseenter', function() {
    stitch.style.transform = 'translateY(0%)';
  });

  stitch.addEventListener('mouseleave', function() {
    stitch.style.transform = 'translateY(30%)';
  });

  // Click ‚Äî console log + pixel animation
  stitch.addEventListener('click', function() {
    console.log('%cüêõ Stitch: "Burp! Delicious bugs..." üêõ', 'color: #00FF00; font-size: 16px; font-weight: bold;');

    if (!pixel) return;
    var rect = stitch.getBoundingClientRect();
    pixel.style.left = (rect.left + rect.width / 2) + 'px';
    pixel.style.top = rect.top + 'px';
    pixel.style.display = 'block';

    var el = pixel.firstElementChild;
    if (el) {
      el.style.animation = 'pixelEat 0.6s ease-out forwards';
      setTimeout(function() {
        pixel.style.display = 'none';
        el.style.animation = '';
      }, 600);
    }
  });

  // Idle peek ‚Äî Stitch peeks up after 5s
  setTimeout(function peekLoop() {
    if (!stitch.matches(':hover')) {
      stitch.style.transform = 'translateY(10%)';
      setTimeout(function() {
        if (!stitch.matches(':hover')) {
          stitch.style.transform = 'translateY(30%)';
        }
      }, 3000);
    }
    setTimeout(peekLoop, 15000);
  }, 5000);
})();
</script>
